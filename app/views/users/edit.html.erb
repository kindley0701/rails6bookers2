<script>
  $(function() {
    $(document).on('turbolinks:load', () => {　//turbolinks適応させないため
      $('#user_postal_code').jpostal({　  // #フォームに付与されているid名を記載
        postcode : [   //カラム名に関わらずpostcode
          '#user_postal_code'  // #フォームに付与されているid名を記載(検証ツールで確認可)
        ],
        address: {
          "#user_address": "%3%4%5", // # 都道府県市区町村と町域が入力される
                                     // # フォームに付与されているid名を記載
        }
      });
    });
  });
</script>
<div class='container'>
  <div class='row'>
    <div class="col-sm-12 col-md-8 col-lg-5 px-5 px-sm-0 mx-auto">
    <h2>User info</h2>
    <%= form_with model: @user, local:true do |f| %>
      <%= render 'layouts/errors', obj: @user %>
      <div class="form-group">
        <%= f.label :name %>
        <%= f.text_field :name, class: "form-control name" %>
      </div>
      <div class="field">
        <%= f.label :postal_code %><br />
        <%= f.text_field :postal_code, autofocus: true, class: "postal_code" %>
      </div>
      <div class="field">
        <%= f.label :address %><br />
        <%= f.text_field :address, autofocus: true, class: "address" %>
      </div>
      <div class="form-group">
        <%= f.label :image %>
        <%= f.file_field :profile_image, class: "form-control-file user_image", accept: 'image/*' %>
      </div>
      <div class="form-group">
        <%= f.label :introduction %>
        <%= f.text_area :introduction, class: "form-control introduction" %>
      </div>
      <div class="form-group">
        <%= f.submit class: 'btn btn-secondary' %>
      </div>
    <% end %>
  </div>
</div>
